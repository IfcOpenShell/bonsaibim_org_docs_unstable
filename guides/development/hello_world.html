<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Running tests" href="running_tests.html" /><link rel="prev" title="Installation" href="installation.html" />
        <link rel="prefetch" href="https://bonsaibim.org/assets/images/blender/blender-logo.png" as="image" />

    <link rel="shortcut icon" href="https://bonsaibim.org/assets/images/blender/blender-logo.png"/><!-- Generated with Sphinx 8.2.3 and Furo 2025.07.19 -->
        <title>Hello, world! - Bonsai 0.8.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=aefb6c79" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=2633da35" />
    
    


<style>
  body {
    --color-code-background: #282C34;
  --color-code-foreground: #ABB2BF;
  --color-brand-primary: #39b54a;
  --color-brand-content: #39b54a;
  --color-brand-visited: #d9e021;
  --color-background-primary: #f7f7f6;
  --color-background-secondary: #eeeeec;
  --color-background-border: #cfd0cb;
  --color-foreground-primary: #2e3436;
  --color-sidebar-item-background--hover: #f7f7f6;
  --color-link: #39b54a;
  --color-link--visited: #39b54a;
  --color-link--hover: #d98014;
  --color-link--visited--hover: #d98014;
  --color-admonition-text: #651fff;
  --font-stack: Nunito, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #282C34;
  --color-code-foreground: #ABB2BF;
  --color-brand-primary: #39b54a;
  --color-brand-content: #39b54a;
  --color-brand-visited: #d9e021;
  --color-background-primary: #2e3436;
  --color-background-border: #2e3436;
  --color-foreground-primary: #eeeeec;
  --color-sidebar-item-background--hover: #2e3436;
  --color-link: #39b54a;
  --color-link--visited: #39b54a;
  --color-link--hover: #d98014;
  --color-link--visited--hover: #d98014;
  --color-admonition-text: #EEEEEC;
  --font-stack: Nunito, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #282C34;
  --color-code-foreground: #ABB2BF;
  --color-brand-primary: #39b54a;
  --color-brand-content: #39b54a;
  --color-brand-visited: #d9e021;
  --color-background-primary: #2e3436;
  --color-background-border: #2e3436;
  --color-foreground-primary: #eeeeec;
  --color-sidebar-item-background--hover: #2e3436;
  --color-link: #39b54a;
  --color-link--visited: #39b54a;
  --color-link--hover: #d98014;
  --color-link--visited--hover: #d98014;
  --color-admonition-text: #EEEEEC;
  --font-stack: Nunito, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Bonsai 0.8.4 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="https://bonsaibim.org/assets/images/blender/blender-logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Bonsai 0.8.4 documentation</span>
  
  <select class="doc-version-switcher" onchange="switchDocs()">
    <option value="stable">Stable</option>
    <option value="unstable">Unstable</option>
    <!-- Add more versions here as needed -->
  </select>
</a>

<script>
  // Define the mapping of versions to URLs
  const versionURLs = {
    stable: 'http://docs.bonsaibim.org/',
    unstable: 'http://docs-unstable.bonsaibim.org/',
    // Add more versions here as needed
  };

  // Set the select box value based on the current URL
  document.addEventListener('DOMContentLoaded', (event) => {
    const selectBox = document.querySelector('.doc-version-switcher');
    const currentURL = window.location.href;

    for (const [version, url] of Object.entries(versionURLs)) {
      if (currentURL.includes(url)) {
        selectBox.value = version;
        break;
      }
    }
  });

  function switchDocs() {
    const selectBox = document.querySelector('.doc-version-switcher');
    const selectedValue = selectBox.value;
    const currentURL = window.location.href;

    if (!currentURL.includes(versionURLs[selectedValue])) {
      window.location.href = versionURLs[selectedValue];
    }
  }
</script><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Quickstart</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/introduction_to_bim.html">Introduction to BIM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/explore_model.html">Exploring an IFC model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/create_model.html">Creating an IFC model</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../quickstart/ide/index.html">Exploring Bonsai Sourcecode</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Exploring Bonsai Sourcecode</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart/ide/linux_ide.html">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart/ide/windows_ide.html">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart/ide/macos_ide.html">MacOS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/next_steps.html">Next Steps</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../viewing/dealing_with_large_models.html">Dealing with large models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authoring/georeferencing.html">Georeferencing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authoring/git_support.html">Tracking revisions with Git</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Development</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Development</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Hello, world!</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_tests.html">Running tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="translations.html">Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="undo_system.html">Undo system</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_docs.html">Writing documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging Bonsai</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../alignment.html">Road and Rail Alignments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authoring/other_addons.html">Other add-ons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../reference/interface.html">Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/topbar.html">Topbar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/properties.html">Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/hotkeys.html">Hotkeys</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/IfcOpenShell/IfcOpenShell/blob/v0.8.0/src/bonsai/docs/guides/development/hello_world.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/IfcOpenShell/IfcOpenShell/edit/v0.8.0/src/bonsai/docs/guides/development/hello_world.rst" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="hello-world">
<h1>Hello, world!<a class="headerlink" href="#hello-world" title="Link to this heading">¶</a></h1>
<p>Bonsai takes a unique approach to authoring BIM data. Traditional BIM authoring
apps create features that are tailored for a single discipline’s paradigm, such
as a 3D environment, or a spreadsheet view, and store their data structure in a
schema that is unique to their application. In order to interoperate with
others, there is an export or import process that translates between their
bespoke schema to and from open data standards. The most famous ISO standard
for BIM is IFC. After this translation, they then serialise it typically into a
format, which may be saved to disk.</p>
<p>Bonsai does things differently.</p>
<p>Bonsai does not have its own bespoke data structure and does not import or
export. Bonsai uses ISO open data standards directly in memory. Most commonly,
this is IFC data. We will place a focus on IFC on this guide, but the reader
should be aware that Bonsai also takes the same approach to dealing with other
open data standards, like Brickschema or BCF. The same concepts will apply. We
can call this Native OpenBIM authoring, which is a paradigm shift from
traditional BIM which relies on translated IFC data.</p>
<img alt="../../_images/native-openbim.png" src="../../_images/native-openbim.png" />
<p>Every user operation reads or writes this data structure in memory, and the IFC
data becomes the source of truth for all data. There is no such thing as an
import or export. The data is always represented in IFC. When a BIM model is
opened or saved, it is simply a serialisation or deserialisation operation. This
also means that you are using Blender simply as an interface to interact with
IFC, and the <code class="docutils literal notranslate"><span class="pre">.blend</span></code> container is largely unnecessary, as nothing of
significance is stored in the Blender system, it is simply a snapshot of your
working session.</p>
<p>Due to this significant difference, hacking on Bonsai requires knowledge not
just about how Blender works, but also how open data standards like IFC works.</p>
<section id="just-show-me-the-code">
<h2>Just show me the code!<a class="headerlink" href="#just-show-me-the-code" title="Link to this heading">¶</a></h2>
<p>Sometimes, the best way to learn how to hack on a project is to just start
hacking away. First, download the code. To keep things simple, you can download
the source as a zip file for now, but keep in mind that sooner or later you’ll
need to <a class="reference internal" href="#submitting-code-to-git"><span class="std std-ref">use Git to collaborate</span></a>.</p>
<div class="blockbutton docutils container">
<p><a class="reference external" href="https://github.com/IfcOpenShell/IfcOpenShell/archive/refs/heads/v0.8.0.zip">Download Source</a></p>
</div>
<p>BIM authoring is a really big topic. As a result, the Bonsai code is separated
into modules. Each module focuses on a particular topic of BIM. Most modules
are self-contained, but sometimes they connect to one another, just like how
BIM works.</p>
<img alt="../../_images/module-architecture.png" src="../../_images/module-architecture.png" />
<p>Modules are not arbitrary divisions. They tend to reflect how portions of BIM
data are segregated in the IFC international standard. This allows us to
minimise the overlap between modules, so that developers can work on a single
portion of the code with relative certainty that their actions will not affects
other developers.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/IfcOpenShell/IfcOpenShell/tree/v0.8.0/src/bonsai/bonsai/bim/module">Bonsai modules</a></p></li>
<li><p><a class="reference external" href="https://github.com/IfcOpenShell/IfcOpenShell/tree/v0.8.0/src/ifcopenshell-python/ifcopenshell/api">IFC modules</a></p></li>
</ul>
<p>Bonsai comes with a secret <strong>demo module</strong> which is basically a hello world
coding tutorial which teaches you about all the moving parts. It’s far more
interesting to read this code rather than 15 pages of abstract software
architecture flow charts and diagrams. The code and its comments will guide you
through the process.</p>
<p>Before playing with the demo module, you may want to switch to using a source
installation. See <a class="reference external" href="./installation.html">bonsai/installation</a> for details.</p>
<p>To see the demo module in action, you’ll need to enable it. In
<code class="docutils literal notranslate"><span class="pre">src/bonsai/bonsai/bim/__init__.py</span></code>, uncomment the line for the demo
module. When you restart Blender, you will see a new demo panel in your scene
properties interface tab. Have fun!</p>
<img alt="../../_images/demo-module.png" src="../../_images/demo-module.png" />
<p>Now you’re ready to learn how to code! Here are all the files associated with
the demo module. Feel free to read them in any order. Each file is heavily
commented with explanations about what each line of code does. Change some of
the code, reload Blender, and see what happens!</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">src</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bim</span><span class="o">/</span><span class="n">module</span><span class="o">/</span><span class="n">demo</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
<span class="n">src</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bim</span><span class="o">/</span><span class="n">module</span><span class="o">/</span><span class="n">demo</span><span class="o">/</span><span class="n">operator</span><span class="o">.</span><span class="n">py</span>
<span class="n">src</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bim</span><span class="o">/</span><span class="n">module</span><span class="o">/</span><span class="n">demo</span><span class="o">/</span><span class="n">prop</span><span class="o">.</span><span class="n">py</span>
<span class="n">src</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bim</span><span class="o">/</span><span class="n">module</span><span class="o">/</span><span class="n">demo</span><span class="o">/</span><span class="n">ui</span><span class="o">.</span><span class="n">py</span>
<span class="n">src</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bim</span><span class="o">/</span><span class="n">module</span><span class="o">/</span><span class="n">demo</span><span class="o">/</span><span class="n">data</span><span class="o">.</span><span class="n">py</span>
<span class="n">src</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">demo</span><span class="o">.</span><span class="n">py</span>
<span class="n">src</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">tool</span><span class="o">/</span><span class="n">demo</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Wow! That’s a lot of files needed for a hello world! Don’t worry, it’s mostly
tutorial comments and it’s there to teach you the basics from how Blender’s
add-on system works, how interfaces work, to how Bonsai works, and how to test
and structure it so that you can build incredibly complex features in a
maintainable way.</p>
<p>Tests for quality checking also exist. The system is designed so that you can
do “Test Driven Development”. For reference on how to run these tests, see <a class="reference external" href="./running_tests.html">bonsai/running_tests</a>
for details. You can find the tests here:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">src</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">bim</span><span class="o">/</span><span class="n">feature</span><span class="o">/</span><span class="n">demo</span><span class="o">.</span><span class="n">feature</span>
<span class="n">src</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">test_demo</span><span class="o">.</span><span class="n">py</span>
<span class="n">src</span><span class="o">/</span><span class="n">bonsai</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">tool</span><span class="o">/</span><span class="n">test_demo</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Not all developers, especially those learning how to code, are familiar with
testing and how to write tests. That’s OK! Feel free to ignore the tests at
first until you get a bit more comfortable with coding, and others can help
guide you when you’re ready to make the leap. Don’t let this stop you from
building things, others can also help write tests for you and clean your code.
It’s a great way to learn!</p>
<p>Once you’re through, you should be able to understand how most of Bonsai is
built and where to find things.</p>
<p>There are many Blender Python tutorials out there. A good place to start is the
<a class="reference external" href="https://wiki.osarch.org/index.php?title=Start_coding_for_Blender">Start coding for Blender</a> from the
OSArch Wiki. In addition, the Blender text editor comes with a menu called
<code class="docutils literal notranslate"><span class="pre">Templates</span> <span class="pre">&gt;</span> <span class="pre">Python</span></code> which gives you a whole list of example code of how to
create an add-on which creates objects, creates gizmos, new buttons, interfaces,
and so on. This is a great way to try out how to build different extensions.</p>
<p>Naturally, if you just want to tweak Bonsai or build a small feature just for
yourself, you’re free to ignore this advice, skip all the tests, and just write
half the code in a single file and it’ll get the job done.</p>
</section>
<section id="software-architecture">
<h2>Software architecture<a class="headerlink" href="#software-architecture" title="Link to this heading">¶</a></h2>
<p>If code isn’t good enough for you and you want to learn more about why the code
is structured the way it is, here is a list of design principles we follow:</p>
<ol class="arabic simple">
<li><p>Big systems are hard to maintain. Break big systems into small systems.</p></li>
<li><p>Separate abstract code from concrete code. Start with abstract code, and
deal with the details later.</p></li>
<li><p>Good code reads like poetry. Every usecase should have a poem.</p></li>
<li><p>Separate UI code from domain logic. UI code should be as dumb as possible.</p></li>
<li><p>Follow the Unix philosophy. We’re dealing with a big industry problem here.
Building a shared ecosystem of tools is better than one behemoth.</p></li>
<li><p>Everything should be testable. You should be able to test first.</p></li>
<li><p>Have different types of tests. Inversely correlate test speed and scope.</p></li>
<li><p>Community first. Allow beginner programmers to join in the fun! Code should
feel easy, not like a course in design pattern jargon.</p></li>
<li><p>Incremental change, not waterfall. Don’t trash and rebuild. Refactor and
redesign one commit at a time. With each commit, ask if you’re making the
code nicer.</p></li>
<li><p>Perfect is the enemy of the good. Half broken is better than completely
broken.</p></li>
</ol>
<p>The rest of this contains nasty software architecture jargon. If that’s not your
thing, stop reading now.</p>
<p>Bonsai code may be understood in three separate layers: <strong>Delivery</strong>,
<strong>Domain</strong>, and <strong>Data</strong>. The Bonsai architecture separates these three layers
from one another. Because they are separate, they can be tested and built
separately.</p>
<img alt="../../_images/architecture.png" src="../../_images/architecture.png" />
<p>The <strong>Delivery</strong> mechanism is how the application is delivered to
the user and handles user interactions. It covers the interface and triggering
events as inputs into the application, and rendering responses.</p>
<p>As advertised in the name, the <strong>Delivery</strong> mechanism is based on <strong>Blender</strong>.
<strong>Blender</strong> is a well established 3D platform. Out of the box, it provides an
incredibly advanced interface to allow users to interact with geometry. The
delivery mechanism code extends Blender extensively, including new <em>Operations</em>
that users can perform, new <em>Properties</em> to store custom data, and new <em>UI</em>
layouts to display information.</p>
<p>When an event such as an <em>Operation</em> is triggered, the <strong>Delivery</strong> mechanism
executes the <strong>Domain</strong> layer through dependency injection. The <strong>Domain</strong> layer
will then decide how to process this input.</p>
<p>The <strong>Domain</strong> layer is divided into two halves: an abstract <em>Core</em> and concrete
<em>Tools</em>. The <em>Core</em> describes abstract, high-level application logic flow for
every single possible usecase in application. The <em>Tools</em> actually implement
this abstract logic, and figure out how things actually work, whether it is
manipulating the Blender scene, writing and reading files, building new IFC
graph relationships, and so on. The <strong>Domain</strong> layer also has interface classes
to describe what it needs.</p>
<p>Whenever the application needs to remember or store information, it does so
using a <strong>Data</strong> repository. The data ensures that stored information confirms
to a defined schema and is valid, and can be retrieved later. Some data is
stored in Blender, such as information about your working session and active
scene. Other data is stored in IFC, such as all the relationships in your BIM
model. We mention <strong>Data</strong> specifically because OpenBIM data authoring is such
a big aspect of Bonsai. In fact, it’s so big that most of it is completely
separated from the Bonsai code and lives elsewhere.</p>
<p>For example, all the code that handles IFC data, which you can think of as a
graph database, is in a completely separate codebase, even under a different
software license. You can find it in the IfcOpenShell-python API module. Many of
the various data processing functions are built as separate Unix-like utilities,
even with their own CLI. This <strong>Data</strong> layer isn’t a single folder of code we
can point to, it’s an ecosystem of libraries and utilities that we want to share
with the entire industry.</p>
</section>
<section id="ifcopenshell-architecture">
<h2>IfcOpenShell Architecture<a class="headerlink" href="#ifcopenshell-architecture" title="Link to this heading">¶</a></h2>
<p>A large part of Bonsai is understanding how IFC data is modified.  This code is
not technically part of the Bonsai codebase, but it is vital to understand. You
will need to be familiar with the IfcOpenShell Python module.</p>
<p>Manipulating IFC data is not simple. IFC may be serialised into multiple
formats, multiple schema versions must be supported, and geometry may be defined
in a highly parametric or implicit manner, which geometry kernels do not
natively support. All this heavy lifting is performed by the IfcOpenShell
library.</p>
<p>The IfcOpenShell library consists of a C++ based core. Its geometry processing
is done using OpenCascade, and optionally CGAL as an experimental option. By the
time Bonsai interacts with IFC, it uses the IfcOpenShell Python bindings, so
all IFC data is already deserialised into Python objects. The inner workings of
the C++ base is out of scope.</p>
<img alt="../../_images/ifcopenshell-architecture.png" src="../../_images/ifcopenshell-architecture.png" />
<p>IfcOpenShell offers a core set of low-level functionality to read and write this
data. An example of the core functionality would be:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">ifcopenshell</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ifcopenshell</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;foo.ifc&quot;</span><span class="p">)</span>
<span class="n">wall</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span><span class="s2">&quot;IfcWall&quot;</span><span class="p">)</span>
<span class="n">wall</span><span class="o">.</span><span class="n">Name</span> <span class="o">=</span> <span class="s2">&quot;Foobar&quot;</span>
</pre></div>
</div>
<p>Core functions are simple read and write operations with no post processing.
Core functions also include geometry processing, which converts IFC geometry
into OpenCascade objects.</p>
<p>Sometimes, there are repetitive actions that need to be performed. These
functions are grouped into a <code class="docutils literal notranslate"><span class="pre">util</span></code> module. These include utility functions
for coordinate calculations, date conversions, filtering elements, unit
conversions, and more. Utility functions make no assumption about the context in
which they are used, and so perform highly specific tasks and nothing else.
Here’s an example of utility functionality:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">ifcopenshell</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ifcopenshell.util.date</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ifcopenshell.util.geolocation</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">ifcopenshell</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">ifc2datetime</span><span class="p">(</span><span class="n">task_time</span><span class="o">.</span><span class="n">ScheduleStart</span><span class="p">)</span>
<span class="n">coordinates</span> <span class="o">=</span> <span class="n">ifcopenshell</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">geolocation</span><span class="o">.</span><span class="n">local2global</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">eastings</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>When authoring, core and utility functions are usually too low-level. To cater
for this, a high level API is provided. The API is divided into mostly isolated
modules, each module representing a distinct set of concepts in the IFC schema.
Unlike the util module, these API modules are highly context-sensitive, and
assume that you intend to be authoring native IFC.</p>
<p>This context-sensitive assumption means that the functions within the modules
are designed around typical usecases in an authoring environment. It performs
all the necessary manipulations to achieve a domain-specific usecase. Authoring
is complex and requires a deep knowledge of IFC to perform correctly and ensure
that the IFC graph state is well maintained. Typically, any authoring operation
that does not use the API is likely to contain mistakes.</p>
<p>Here’s an example of it in action:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">ifcopenshell.api.grid</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ifcopenshell.api.structural</span>

<span class="n">ifcopenshell</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">create_grid_axis</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="n">ifcopenshell</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">structural</span><span class="o">.</span><span class="n">add_structural_load</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>Because the API performs all the IFC manipulations to achieve a usecase, no
further interaction is required in a typical native IFC authoring environment.
For this reason, Bonsai only interacts with the API for its authoring
capabilities.</p>
<p>The code for IfcOpenShell’s various systems can be found here:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/IfcOpenShell/IfcOpenShell/tree/v0.8.0/src/ifcopenshell-python/ifcopenshell">ifcopenshell (core)</a></p></li>
<li><p><a class="reference external" href="https://github.com/IfcOpenShell/IfcOpenShell/tree/v0.8.0/src/ifcopenshell-python/ifcopenshell/util">ifcopenshell.util</a></p></li>
<li><p><a class="reference external" href="https://github.com/IfcOpenShell/IfcOpenShell/tree/v0.8.0/src/ifcopenshell-python/ifcopenshell/api">ifcopenshell.api</a></p></li>
</ul>
</section>
<section id="submitting-code-to-git">
<span id="id1"></span><h2>Submitting code to Git<a class="headerlink" href="#submitting-code-to-git" title="Link to this heading">¶</a></h2>
<p>So, you’ve written some code, fixed a bug, made an improvement, and would like
to get your code added to the Git repository? If your change is relatively
small, you can submit your changes just using the Github website. Browse to the
<a class="reference external" href="https://github.com/ifcopenshell/ifcopenshell">IfcOpenShell repository</a> and
navigate to the file you want to edit the code of. Then just press the edit icon
to begin editing. When you’re done, you’ll be prompted to submit your changes.</p>
<img alt="../../_images/github-editing.png" src="../../_images/github-editing.png" />
<p>If you’re making a large change, you’ll need to create a <strong>Pull Request</strong>.
Github has an excellent comprehensive guide on <a class="reference external" href="https://docs.github.com/en/get-started/quickstart/contributing-to-projects">how to contribute to projects</a>
which you can follow.</p>
<p>If you make regular contributions, you are also welcome to officially join the
IfcOpenShell developer team, where you’ll be able to make changes without
waiting for code reviews and approvals.</p>
</section>
<section id="asking-for-help">
<h2>Asking for help<a class="headerlink" href="#asking-for-help" title="Link to this heading">¶</a></h2>
<p>It’s no fun to code alone! It’s encouraged to reach out if there are any issues,
if you’d like to code together with another developer, need a code review, or
need further testing. Here are some places to reach out:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/IfcOpenShell/IfcOpenShell/issues">Github issues</a></p></li>
<li><p><a class="reference external" href="https://osarch.org/chat">OSArch live chat</a></p></li>
<li><p><a class="reference external" href="https://community.osarch.org">OSArch community forum</a></p></li>
</ul>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="running_tests.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Running tests</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="installation.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Installation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020-2025 IfcOpenShell Contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://ifcopenshell.org" aria-label="IfcOpenShell">
                <img src="https://ifcopenshell.org/assets/images/logo.png" style="width: auto;" />
            </a>
              <a class="muted-link " href="https://github.com/IfcOpenShell/IfcOpenShell/tree/v0.8.0/src/bonsai/docs" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Hello, world!</a><ul>
<li><a class="reference internal" href="#just-show-me-the-code">Just show me the code!</a></li>
<li><a class="reference internal" href="#software-architecture">Software architecture</a></li>
<li><a class="reference internal" href="#ifcopenshell-architecture">IfcOpenShell Architecture</a></li>
<li><a class="reference internal" href="#submitting-code-to-git">Submitting code to Git</a></li>
<li><a class="reference internal" href="#asking-for-help">Asking for help</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=b41f4c93"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    </body>
</html>