<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Tracking revisions with Git" href="git_support.html" /><link rel="prev" title="Dealing with large models" href="../viewing/dealing_with_large_models.html" />

    <link rel="shortcut icon" href="https://bonsaibim.org/assets/images/blender/blender-logo.png"/><!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>Georeferencing - Bonsai 0.8.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=aefb6c79" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=2633da35" />
    
    


<style>
  body {
    --color-code-background: #282C34;
  --color-code-foreground: #ABB2BF;
  --color-brand-primary: #39b54a;
  --color-brand-content: #39b54a;
  --color-brand-visited: #d9e021;
  --color-background-primary: #f7f7f6;
  --color-background-secondary: #eeeeec;
  --color-background-border: #cfd0cb;
  --color-foreground-primary: #2e3436;
  --color-sidebar-item-background--hover: #f7f7f6;
  --color-link: #39b54a;
  --color-link--visited: #39b54a;
  --color-link--hover: #d98014;
  --color-link--visited--hover: #d98014;
  --color-admonition-text: #651fff;
  --font-stack: Nunito, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #282C34;
  --color-code-foreground: #ABB2BF;
  --color-brand-primary: #39b54a;
  --color-brand-content: #39b54a;
  --color-brand-visited: #d9e021;
  --color-background-primary: #2e3436;
  --color-background-border: #2e3436;
  --color-foreground-primary: #eeeeec;
  --color-sidebar-item-background--hover: #2e3436;
  --color-link: #39b54a;
  --color-link--visited: #39b54a;
  --color-link--hover: #d98014;
  --color-link--visited--hover: #d98014;
  --color-admonition-text: #EEEEEC;
  --font-stack: Nunito, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #282C34;
  --color-code-foreground: #ABB2BF;
  --color-brand-primary: #39b54a;
  --color-brand-content: #39b54a;
  --color-brand-visited: #d9e021;
  --color-background-primary: #2e3436;
  --color-background-border: #2e3436;
  --color-foreground-primary: #eeeeec;
  --color-sidebar-item-background--hover: #2e3436;
  --color-link: #39b54a;
  --color-link--visited: #39b54a;
  --color-link--hover: #d98014;
  --color-link--visited--hover: #d98014;
  --color-admonition-text: #EEEEEC;
  --font-stack: Nunito, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Bonsai 0.8.3 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="https://bonsaibim.org/assets/images/blender/blender-logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Bonsai 0.8.3 documentation</span>
  
  <select class="doc-version-switcher" onchange="switchDocs()">
    <option value="stable">Stable</option>
    <option value="unstable">Unstable</option>
    <!-- Add more versions here as needed -->
  </select>
</a>

<script>
  // Define the mapping of versions to URLs
  const versionURLs = {
    stable: 'http://docs.bonsaibim.org/',
    unstable: 'http://docs-unstable.bonsaibim.org/',
    // Add more versions here as needed
  };

  // Set the select box value based on the current URL
  document.addEventListener('DOMContentLoaded', (event) => {
    const selectBox = document.querySelector('.doc-version-switcher');
    const currentURL = window.location.href;

    for (const [version, url] of Object.entries(versionURLs)) {
      if (currentURL.includes(url)) {
        selectBox.value = version;
        break;
      }
    }
  });

  function switchDocs() {
    const selectBox = document.querySelector('.doc-version-switcher');
    const selectedValue = selectBox.value;
    const currentURL = window.location.href;

    if (!currentURL.includes(versionURLs[selectedValue])) {
      window.location.href = versionURLs[selectedValue];
    }
  }
</script><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Quickstart</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/introduction_to_bim.html">Introduction to BIM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/explore_model.html">Exploring an IFC model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/create_model.html">Creating an IFC model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/next_steps.html">Next Steps</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../viewing/dealing_with_large_models.html">Dealing with large models</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Georeferencing</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_support.html">Tracking revisions with Git</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../development/index.html">Development</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Development</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../development/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/hello_world.html">Hello, world!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/running_tests.html">Running tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/translations.html">Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/undo_system.html">Undo system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/writing_docs.html">Writing documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/debugging.html">Debugging Bonsai</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../alignment.html">Road and Rail Alignments</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_addons.html">Other add-ons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../reference/interface.html">Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/topbar.html">Topbar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/properties.html">Properties</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/IfcOpenShell/IfcOpenShell/blob/v0.8.0/src/bonsai/docs/guides/authoring/georeferencing.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/IfcOpenShell/IfcOpenShell/edit/v0.8.0/src/bonsai/docs/guides/authoring/georeferencing.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="georeferencing">
<h1>Georeferencing<a class="headerlink" href="#georeferencing" title="Link to this heading">¶</a></h1>
<p>There are two types of construction: vertical construction (such as buildings
and sites) which deal with small distances typically under 1km, and horizontal
construction (such as transport, transmission, and subterranean networks) where
distances frequently exceed 1km. Blender and Bonsai focuses on vertical
construction, and will typically just work out of the box.</p>
<section id="coordinate-reference-systems">
<h2>Coordinate reference systems<a class="headerlink" href="#coordinate-reference-systems" title="Link to this heading">¶</a></h2>
<p>The minimum requirement for a georeferenced model is to specify the coordinate
reference system used. This is known as the <strong>Projected CRS</strong>, and is a feature
available in IFC4 onwards.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>IFC2X3 models cannot be georeferenced. There is a proposed convention to
provide fallback support but this is not supported yet in any known vendor.
Please consider upgrading to IFC4.</p>
</div>
<p>Most architects and engineers will know the name of the <strong>Projected CRS</strong>
typically chosen by the surveyor. For example in Sydney, Australia, you might
use GDA2020 / MGA Zone 56. In IFC a standardised code from the EPSG public
registry is used to refer to the <strong>Projected CRS</strong>. For example, GDA 2020 / MGA
Zone 56 will be named EPSG:7856.</p>
<p>You can check whether or not your model is georeferenced in the <strong>IFC
Georeferencing</strong> panel in the <strong>Scene Properties</strong> tab. You should see a section
for the <strong>Projected CRS</strong> with an EPSG code.</p>
<img alt="../../_images/projectedcrs.png" src="../../_images/projectedcrs.png" />
<p>If you do not see this, your project is not georeferenced.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Even if a model has large “real world coordinates”, this does not mean the
project is georeferenced. Without a <strong>Projected CRS</strong>, these coordinates are
meaningless.</p>
</div>
</section>
<section id="map-conversions">
<h2>Map conversions<a class="headerlink" href="#map-conversions" title="Link to this heading">¶</a></h2>
<p>The coordinates for the nominated <strong>Projected CRS</strong> are known as <strong>Map
Coordinates</strong>. These <strong>Map Coordinates</strong> are typically large numbers and read as
Eastings and Northings.</p>
<p>In vertical construction, some disciplines (such as a civil engineer or
surveyor) will directly use <strong>Map Coordinates</strong> in their designs. Most others,
such as the architect, structural, and service engineers will instead use
<strong>Local engineering coordinates</strong>. A <strong>Map Conversion</strong> stores the parameters
for transforming <strong>Local engineering coordinates</strong> to <strong>Map Coordinates</strong>.</p>
<p>For example, a civil engineer will work directly in <strong>Map Coordinates</strong>. This
means that the model’s coordinates correlate directly to Eastings and
Northings.  Similarly, the model’s +Y axis will point to <strong>Grid North</strong>.  As
there is no <strong>Map Conversion</strong> involved, you will see a 0 in the Eastings,
Northings, and Orthogonal Height in the <strong>IFC Georeferencing</strong> panel.</p>
<img alt="../../_images/mapcoordinates.png" src="../../_images/mapcoordinates.png" />
<p>When <strong>Local engineering coordinates</strong> are used, typically the architect will
nominate a local origin and model geometry will be drawn orthogonally (i.e.
along the X and Y axis). This local origin often correlates with a site boundary,
surveyed point, or grid intersection. This means that the model’s coordinates
are typically smaller numbers and correlate to surface distance measurements,
not Eastings and Northings, and the model’s +Y axis will point to <strong>Project
North</strong>. The surveyor will then provide the necessary <strong>Map Conversion</strong>
parameters to convert from <strong>Local engineering coordinates</strong> to Eastings,
Northings, Orthogonal Height, and <strong>Grid North</strong>.</p>
<img alt="../../_images/mapconversion.png" src="../../_images/mapconversion.png" />
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Coordinate systems are a technical topic. A common error is that disciplines
may choose to use <strong>Map Coordinates</strong> without realising that map distances
do not correlate with surface distances measured on the ground.  Unless you
are trained to work in <strong>Map Coordinates</strong>, it is safer to work with local
engineering coordinates and consult your surveyor for professional guidance.</p>
</div>
<p><strong>Map Conversions</strong> contain six parameters.</p>
<p><strong>Eastings</strong>, <strong>Northings</strong> and <strong>Orthogonal Height</strong> parameters define the
translation from the model’s XYZ coordinates to map <strong>Eastings</strong>, <strong>Northings</strong>,
and <strong>Heights</strong>.  Your model’s local engineering origin at 0, 0, 0, will always
convert exactly to the <strong>Easting</strong>, <strong>Northing</strong>, and <strong>Orthogonal Height</strong>
displayed in this panel.</p>
<p>The <strong>X Axis Abcissa</strong> and <strong>X Axis Ordinate</strong> define the rotation vector from
<strong>Project North</strong> to <strong>Grid North</strong>. These two numbers combine into a coordinate
vector pointing along the X axis (i.e. <strong>Project East</strong>). The default is an
abscissa of 1 and ordinate of 0. This default (1, 0) vector implies <strong>Project
East</strong> and <strong>Grid East</strong> coalign, which means there is no rotation between
<strong>Project North</strong> and <strong>Grid North</strong>.</p>
<img alt="../../_images/xaxisabscissaordinate.png" src="../../_images/xaxisabscissaordinate.png" />
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To save you the mental struggle of converting to degrees, a calculated
rotation is always just below these values. Phew!</p>
</div>
<p>The distance measured on site, or the “surface distance” is actually not the
same as the distance measured between Eastings and Northings. This difference is
provided by the <strong>Scale</strong> parameter. The <strong>Scale</strong> defines the average combined
scale factor across the small 1km site that converts from the model’s surface
distances to map grid distances. Note that the <strong>Scale</strong> is actually not a
constant. However, for the small sites dealt with in vertical construction, it
may be approximated to be a constant by your surveyor and will typically be a
value close to, but not exactly 1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Always check that the surveyor provides a scale factor such that surface
distance multiplied by <strong>Scale</strong> equals map grid distances (as opposed to
the other way around).</p>
</div>
</section>
<section id="working-with-map-coordinates">
<h2>Working with Map Coordinates<a class="headerlink" href="#working-with-map-coordinates" title="Link to this heading">¶</a></h2>
<p>Bonsai is designed to work with small coordinates (under 1km), whereas map
coordinates are typically large. When you load an IFC which uses map
coordinates directly, or when you are working with IFC2X3 and you cannot use a
map conversion, Bonsai will autodetect a point on your model to use as a false
origin.</p>
<p>The XYZ offset used for the false origin will be shown in the <strong>IFC
Georeferencing</strong> panel under the <strong>Blender Offset</strong> header. It
is very similar to a <strong>Map Conversion</strong>, but it will not have a scale and only
temporarily affects your Blender session.</p>
<img alt="../../_images/blenderoffset.png" src="../../_images/blenderoffset.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A Blender offset is simply a shift in coordinates to reduce large model
coordinates to smaller coordinates. It should not be used as an indicator of
whether georeferencing is done correctly. Always check the <strong>Projected
CRS</strong>, <strong>Map Conversion</strong> and confirm the parameters with your surveyor.</p>
</div>
<p>This distance limit of 1km and autodetected false origin may not be appropriate
for your project. For example, your project may exceed the 1km limit, or you may
want to federate multiple files together and manually specify a consistent and
fixed false origin. You can customise these options by choosing
<a class="reference internal" href="../../reference/project_overview/project_info.html#project-info-advanced-loading-mode"><span class="std std-ref">Enable Advanced Mode</span></a>  when loading a project.
Then, set the <strong>Distance Limit</strong> (in meters) and the <strong>False Origin</strong> coordinate
before pressing <strong>Load Project Elements</strong>.</p>
<img alt="../../_images/manualorigin.png" src="../../_images/manualorigin.png" />
<p>When a false origin is used, there are two possible methods to offset objects by
the false origin.</p>
<p>The first method is to offset the origin point of objects. We call this the
<strong>Object Placement</strong> method.  The second method is to offset the local
coordinates of geometry within the objects themselves. We call this the
<strong>Cartesian Point</strong> method. Sometimes, BIM applications combine both of these
methods in a single IFC project. To see which workaround was used on an object,
check the “Blender Offset” property in the <strong>Transform</strong> panel in the <strong>Object
Properties</strong>. This is an advanced property used by powerusers to debug
coordinate issues and may be safely ignored by most users.</p>
<img alt="../../_images/offsetmode.png" src="../../_images/offsetmode.png" />
</section>
<section id="incorrect-coordinate-use">
<h2>Incorrect coordinate use<a class="headerlink" href="#incorrect-coordinate-use" title="Link to this heading">¶</a></h2>
<p>Sometimes, a model may mix <strong>Map Coordinates</strong> and <strong>Local engineering
coordinates</strong>. For example, a surveyed pipe may have its placement use <strong>Map
Coordinates</strong> with large Eastings and Northings. However, the placement of the
site object may be still set at 0, 0, 0. Since this range of coordinates exceed
the default 1km distance limit, this creates a problem. Blender needs to choose
between displaying the pipe accurately and sacrificing precision at the site
placement, or vice versa, but it is impossible to satisfy both simultaneously in
the same Blender session.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Many IFC viewers only show geometry, and don’t show object placements. This may
give users the false impression that their coordinates in their IFC project
do not have such a large range. However, as a native IFC authoring platform,
Bonsai will not accept this inconsistency.</p>
</div>
<p>At this point, it is the users responsibility to reconcile this inconsistency in
their coordinates. Either the user needs to fix their file to consistently
offset all coordinates, or the user needs to manually tell Bonsai the
coordinates of the desired false origin and accept the precision loss.</p>
</section>
<section id="converting-local-and-map-coordinates">
<h2>Converting local and map coordinates<a class="headerlink" href="#converting-local-and-map-coordinates" title="Link to this heading">¶</a></h2>
<p>You can convert <strong>Local engineering coordinates</strong> to <strong>Map coordinates</strong> and
vice versa in the <strong>Viewport</strong> panel. First, enable <code class="docutils literal notranslate"><span class="pre">View</span> <span class="pre">&gt;</span> <span class="pre">Sidebar</span></code> then type
in your coordinate in the <strong>Input</strong> field. Press either the <strong>Local to Global</strong>
or <strong>Global to Local</strong> button to convert the coordinate. You will see the result
of the calculation in the <strong>Output</strong> field.</p>
<img alt="../../_images/coordinateconversion.png" src="../../_images/coordinateconversion.png" />
</section>
<section id="true-north">
<h2>True north<a class="headerlink" href="#true-north" title="Link to this heading">¶</a></h2>
<p>When <strong>Local engineering coordinates</strong> are used, the model’s +Y axis points to
<strong>Project North</strong> for the convenience of drafting. When <strong>Map Coordinates</strong> are
used, the model’s +Y axis points to <strong>Grid North</strong> for the necessity of
surveying.</p>
<p><strong>Project North</strong> and <strong>Grid North</strong> is different to <strong>True North</strong>. The angle
to <strong>True North</strong> is not a fixed angle. It will actually vary depending on the
Eastings and Northings you choose to calculate it from.</p>
<p>However, this variable <strong>True North</strong> is a great source of confusion to
architects, who typically just want to do a shadow study, solar study, or
similar and go out for an early lunch. IFC can store a fixed <strong>True North</strong>
value as a reference to be used for these types of usecases. If one is stored in
your project, you may see it under the <strong>True North</strong> section of the <strong>IFC
Georeferencing</strong> panel. Your surveyor will be able to provide the <strong>True North</strong>
vector, but it should be only used as a reference, never used as a way to
coordinate model rotations, and always with the understanding that it is not a
fixed value.</p>
<img alt="../../_images/truenorth.png" src="../../_images/truenorth.png" />
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Fun fact: <strong>Magnetic North</strong> is useless for the purposes of construction.</p>
</div>
</section>
<section id="coordinate-precision-limits">
<h2>Coordinate precision limits<a class="headerlink" href="#coordinate-precision-limits" title="Link to this heading">¶</a></h2>
<p>Bonsai focuses on vertical construction. Vertical construction typically uses
<strong>Local engineering coordinates</strong> on a small site. The buildingSMART
georeferencing technical experts panel have determined that a small site under
1km square can be assumed to have a constant <strong>Map Conversion</strong>.</p>
<p>Therefore, if your model is less than 1km square, you are within the coordinate
precision limits. This is where the 1km default distance limit is derived from.</p>
<p>If you want to exceed the 1km square surveying limitation, you will need to be
aware of software limitations that can result in precision loss when large
coordinate ranges are used.</p>
<p>Blender, and subsequently Bonsai, is not designed for <strong>Map Coordinates</strong>.
Blender internally uses single precision floating point calculations. A full
description of the precision implications are described in the <a class="reference external" href="https://docs.blender.org/manual/en/latest/advanced/limits.html">Blender working
limits documentation</a>.</p>
<p>This means that lengths greater than 5,000 meters start to accumulate software
precision errors that affect the nearest millimeter. Therefore, from a software
perspective, it is unwise to embark on a project with coordinates ranging
greater than +/- 5km.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="git_support.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Tracking revisions with Git</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../viewing/dealing_with_large_models.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Dealing with large models</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020-2024 IfcOpenShell Contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://ifcopenshell.org" aria-label="IfcOpenShell">
                <img src="https://ifcopenshell.org/assets/images/logo.png" style="width: auto;" />
            </a>
              <a class="muted-link " href="https://github.com/IfcOpenShell/IfcOpenShell/tree/v0.8.0/src/bonsai/docs" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Georeferencing</a><ul>
<li><a class="reference internal" href="#coordinate-reference-systems">Coordinate reference systems</a></li>
<li><a class="reference internal" href="#map-conversions">Map conversions</a></li>
<li><a class="reference internal" href="#working-with-map-coordinates">Working with Map Coordinates</a></li>
<li><a class="reference internal" href="#incorrect-coordinate-use">Incorrect coordinate use</a></li>
<li><a class="reference internal" href="#converting-local-and-map-coordinates">Converting local and map coordinates</a></li>
<li><a class="reference internal" href="#true-north">True north</a></li>
<li><a class="reference internal" href="#coordinate-precision-limits">Coordinate precision limits</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=7f96dc5e"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    </body>
</html>